services:
  plugin.manager.mailgroup_connection:
    class: Drupal\mailgroup\ConnectionPluginManager
    parent: default_plugin_manager
  logger.channel.mailgroup:
    class: Drupal\Core\Logger\LoggerChannel
    factory: logger.factory:get
    arguments: ['mailgroup']
  mailgroup.handler:
    class: Drupal\mailgroup\MailHandler
    arguments: ['@plugin.manager.mail', '@language_manager', '@logger.channel.mailgroup']
  mailgroup.config:
    class: Drupal\mailgroup\MailGroupConfig
    arguments: ['@database']
    tags:
      - { name: backend_overridable }
  mailgroup_messaage.subscriber:
    class: Drupal\mailgroup\EventSubscriber\MailGroupMessageEventSubscriber
    arguments: ['@mailgroup.handler']
    tags:
      - { name: event_subscriber }
