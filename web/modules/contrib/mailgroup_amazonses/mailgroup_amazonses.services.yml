parameters:
  mailgroup_amazonses.s3_client_options:
    version: latest

services:
  mailgroup_amazonses.s3_client:
    class: Aws\S3\S3Client
    factory: 'mailgroup_amazonses.s3_client_factory:createInstance'
    arguments: ['%mailgroup_amazonses.s3_client_options%', '@config.factory']

  mailgroup_amazonses.s3_client_factory:
    class: Drupal\mailgroup_amazonses\AmazonS3ClientFactory
    public: false

  logger.channel.mailgroup_amazonses:
    class: Drupal\Core\Logger\LoggerChannel
    factory: logger.factory:get
    arguments: ['mailgroup_amazonses']
